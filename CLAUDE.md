# Editable Source Code
- Only modify source code in `src/`, `yaml-sh/`, and `lib/` directories
- Do NOT edit `ticket.sh` in project root directly - it's generated by `build.sh`

# Testing
- After modifying code, run `test/run-all.sh` and `test/run-all-on-docker.sh` before reporting to user. Fix any errors.
- If existing code has errors, create an error-fixing ticket and work on it after completing current task.

# Working directory
- When creating temporary files or directories that shouldn’t be committed to Git, please place them under the `$PROJECT_ROOT/tmp` directory.

# Ticket Management Instructions

Use `./ticket.sh` for ticket management.

## Working with current-ticket.md

### If current-ticket.md exists in project root
- This file is your work instruction - follow its contents
- When receiving additional instructions from users, document them in this file before proceeding
- Continue working on the active ticket

### If current-ticket.md does not exist in project root
- When receiving user requests, first ask whether to create a new ticket
- Do not start work without confirming ticket creation
- Even small requests should be tracked through the ticket system

## Create New Ticket

1. Create ticket: `./ticket.sh new feature-name`
2. Edit ticket content and description in the generated file

## Start Working on Ticket

1. Check available tickets: `./ticket.sh` list or browse tickets directory
2. Start work: `./ticket.sh start 241225-143502-feature-name`
3. Develop on feature branch (`current-ticket.md` shows active ticket)

## Closing Tickets

1. Before closing:
   - Review `current-ticket.md` content and description
   - Check all tasks in checklist are completed (mark with `[x]`)
   - Run `bash ./build.sh`
   - **CRITICAL: Get explicit user approval before proceeding**
2. Complete: `./ticket.sh close`

### ⚠️ IMPORTANT: User Approval Required

**NEVER close a ticket without explicit user confirmation.** Always:
- Summarize what was completed
- Ask the user: "Should I close this ticket?"
- Wait for clear confirmation (e.g., "yes", "close it", "go ahead")
- Do NOT assume silence or indirect responses as approval
